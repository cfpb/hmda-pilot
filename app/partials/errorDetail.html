<div class="page-size" ng-if="error">Showing {{start()}} - {{end()}} of {{total()}} | <label for="page-size" class="pagination_label">View</label>
    <select id="page-size" ng-model="pageSize" ng-options="size as size for size in [10, 20, 50, 100]" ng-change="setPageSize(pageSize)"></select>
</div>

<table class="detail-table" ng-if="error">
    <thead>
        <tr>
            <th class="id" scope="col" ng-if="error.scope === 'lar'">Loan/Application Number</th>
            <th class="id" scope="col" ng-if="error.scope !== 'lar'">Line Number</th>
            <th class="description" scope="col">Field</th>
            <th class="value" scope="col">Submitted Value</th>
            <th class="action" scope="col">Action</th>
        </tr>
    </thead>
    <tbody ng-repeat="item in error.errors | paginate:start():end()">
        <tr ng-repeat="(key, value) in item.properties">
            <td class="id" scope="row" rowspan="{{item.properties | keyLength}}" ng-if="$first">{{item.loanNumber || item.lineNumber}}</td>
            <td class="description">{{ {'property':key, 'lineNumber':item.lineNumber} | hmdaLabel:error.scope}}</td>
            <td class="value">{{value}}</td>
            <td class="action" rowspan="{{item.properties | keyLength}}" ng-if="$first">Correct and revalidate</td>
        </tr>
    </tbody>
</table>

<nav class="pagination" ng-if="error">
    <button class="btn btn__super btn__secondary pagination_prev" ng-class="{btn__disabled: !hasPrev()}" ng-disabled="!hasPrev()" ng-click="onPrev()">
        <span class="btn_icon__left cf-icon cf-icon-left"></span>
        Previous
    </button>
    <button class="btn btn__super btn__secondary pagination_next" ng-class="{btn__disabled: !hasNext()}" ng-disabled="!hasNext()" ng-click="onNext()">
        Next
        <span class="btn_icon__right cf-icon cf-icon-right"></span>
    </button>
    <div class="pagination_form">
        <label class="pagination_label" for="pagination_current-page">
            Page
            <span class="u-visually-hidden">
                number out of {{totalPages()}} total pages
            </span>
        </label>
        <input class="pagination_current-page"
                id="pagination_current-page"
                name="pagination_current-page"
                type="number" min="1" max="{{totalPages()}}"
                ng-model="currentPage">
        <span class="pagination_label">
            <span aria-hidden="true">
                of {{totalPages()}}
            </span>
        </span>
        <button class="btn btn__link pagination_submit"
                id="pagination_submit"
                ng-click="setCurrentPage(currentPage)">
            Go
        </button>
    </div>
</nav>

<p ng-if="!error">No errors found.</p>
